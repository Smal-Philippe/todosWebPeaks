import{a as $,t as D,d as Ne,c as be}from"../chunks/lgMO21Ug.js";import{i as ve}from"../chunks/BbF98w-M.js";import{j as xe,o as A,J as de,g as I,K as we,L as ee,M as ae,N as V,p as P,at as J,O as ce,k as ue,P as $e,am as _e,G as K,au as Se,av as Oe,al as Ce,aw as Me,m as Re,Z as he,ai as De,a9 as pe,a3 as Le,B as re,ax as Pe,i as Be,ay as Fe,az as He,af as qe,aA as Je,aB as Ge,I as Ke,aC as Ue,E as Ve,aD as ze,aE as Ye,ao as We,b as me,aF as Xe,aG as Ze,ab as Qe,n as B,aH as je,aI as ea,a8 as te,W as se,aJ as aa,ap as ra,t as H,x as b,y as x,s as ye,aK as ge,aL as ta,aM as sa,q as W,aN as na,w,v as Ee,e as ia,D as G}from"../chunks/DucslvUb.js";import{c as oa,o as la}from"../chunks/DEMCxWVJ.js";import{a as fa,b as va,l as da,c as ca,e as Z,s as Q}from"../chunks/BVB8UGAA.js";import{p as L,i as ua}from"../chunks/CzMp5uvr.js";function _a(a,e){return e}function ha(a,e,r,t){for(var s=[],n=e.length,i=0;i<n;i++)Oe(e[i].e,s,!0);var _=n>0&&s.length===0&&r!==null;if(_){var u=r.parentNode;Ce(u),u.append(r),t.clear(),M(a,e[0].prev,e[n-1].next)}Me(s,()=>{for(var m=0;m<n;m++){var h=e[m];_||(t.delete(h.k),M(a,h.prev,h.next)),Re(h.e,!_)}})}function pa(a,e,r,t,s,n=null){var i=a,_={flags:e,items:new Map,first:null};A&&de();var u=null,m=!1,h=he(()=>{var f=r();return Be(f)?f:f==null?[]:_e(f)});xe(()=>{var f=I(h),v=f.length;if(m&&v===0)return;m=v===0;let l=!1;if(A){var o=i.data===we;o!==(v===0)&&(i=ee(),ae(i),V(!1),l=!0)}if(A){for(var p=null,c,E=0;E<v;E++){if(P.nodeType===8&&P.data===De){i=P,l=!0,V(!1);break}var d=f[E],y=t(d,E);c=ke(P,_,p,null,d,y,E,s,e,r),_.items.set(y,c),p=c}v>0&&ae(ee())}if(!A){var T=pe;ma(f,_,i,s,e,(T.f&J)!==0,t,r)}n!==null&&(v===0?u?ce(u):u=ue(()=>n(i)):u!==null&&$e(u,()=>{u=null})),l&&V(!0),I(h)}),A&&(i=P)}function ma(a,e,r,t,s,n,i,_){var u=a.length,m=e.items,h=e.first,f=h,v,l=null,o=[],p=[],c,E,d,y;for(y=0;y<u;y+=1){if(c=a[y],E=i(c,y),d=m.get(E),d===void 0){var T=f?f.e.nodes_start:r;l=ke(T,e,l,l===null?e.first:l.next,c,E,y,t,s,_),m.set(E,l),o=[],p=[],f=l.next;continue}if(ya(d,c,y),d.e.f&J&&ce(d.e),d!==f){if(v!==void 0&&v.has(d)){if(o.length<p.length){var g=p[0],k;l=g.prev;var N=o[0],S=o[o.length-1];for(k=0;k<o.length;k+=1)ne(o[k],g,r);for(k=0;k<p.length;k+=1)v.delete(p[k]);M(e,N.prev,S.next),M(e,l,N),M(e,S,g),f=g,l=S,y-=1,o=[],p=[]}else v.delete(d),ne(d,f,r),M(e,d.prev,d.next),M(e,d,l===null?e.first:l.next),M(e,l,d),l=d;continue}for(o=[],p=[];f!==null&&f.k!==E;)(n||!(f.e.f&J))&&(v??(v=new Set)).add(f),p.push(f),f=f.next;if(f===null)continue;d=f}o.push(d),l=d,f=d.next}if(f!==null||v!==void 0){for(var C=v===void 0?[]:_e(v);f!==null;)(n||!(f.e.f&J))&&C.push(f),f=f.next;var Ae=C.length;if(Ae>0){var Ie=null;ha(e,C,Ie,m)}}K.first=e.first&&e.first.e,K.last=l&&l.e}function ya(a,e,r,t){Se(a.v,e),a.i=r}function ke(a,e,r,t,s,n,i,_,u,m){var h=(u&Fe)!==0,f=(u&He)===0,v=h?f?Le(s):re(s):s,l=u&Pe?re(i):i,o={i:l,v,k:n,a:null,e:null,prev:r,next:t};try{return o.e=ue(()=>_(a,v,l,m),A),o.e.prev=r&&r.e,o.e.next=t&&t.e,r===null?e.first=o:(r.next=o,r.e.next=o.e),t!==null&&(t.prev=o,t.e.prev=o.e),o}finally{}}function ne(a,e,r){for(var t=a.next?a.next.e.nodes_start:r,s=e?e.e.nodes_start:r,n=a.e.nodes_start;n!==t;){var i=qe(n);s.before(n),n=i}}function M(a,e,r){e===null?a.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function ga(a,e,r,t,s){var _;A&&de();var n=(_=e.$$slots)==null?void 0:_[r],i=!1;n===!0&&(n=e.children,i=!0),n===void 0||n(a,i?()=>t:t)}function Ea(a){if(A){var e=!1,r=()=>{if(!e){if(e=!0,a.hasAttribute("value")){var t=a.value;U(a,"value",null),a.value=t}if(a.hasAttribute("checked")){var s=a.checked;U(a,"checked",null),a.checked=s}}};a.__on_r=r,Je(r),fa()}}function U(a,e,r,t){var s=a.__attributes??(a.__attributes={});A&&(s[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName==="LINK")||s[e]!==(s[e]=r)&&(e==="style"&&"__styles"in a&&(a.__styles={}),e==="loading"&&(a[Ge]=r),r==null?a.removeAttribute(e):typeof r!="string"&&ka(a).includes(e)?a[e]=r:a.setAttribute(e,r))}var ie=new Map;function ka(a){var e=ie.get(a.nodeName);if(e)return e;ie.set(a.nodeName,e=[]);for(var r,t=a,s=Element.prototype;s!==t;){r=Ue(t);for(var n in r)r[n].set&&e.push(n);t=Ke(t)}return e}function j(a,e,r){var t=a.__className,s=Ta(e);A&&a.className===s?a.__className=s:(t!==s||A&&a.className!==s)&&(e==null?a.removeAttribute("class"):a.className=s,a.__className=s)}function Ta(a,e){return(a??"")+""}const Aa=()=>performance.now(),O={tick:a=>requestAnimationFrame(a),now:()=>Aa(),tasks:new Set};function Te(){const a=O.now();O.tasks.forEach(e=>{e.c(a)||(O.tasks.delete(e),e.f())}),O.tasks.size!==0&&O.tick(Te)}function Ia(a){let e;return O.tasks.size===0&&O.tick(Te),{promise:new Promise(r=>{O.tasks.add(e={c:a,f:r})}),abort(){O.tasks.delete(e)}}}function q(a,e){a.dispatchEvent(new CustomEvent(e))}function Na(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const e=a.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function oe(a){const e={},r=a.split(";");for(const t of r){const[s,n]=t.split(":");if(!s||n===void 0)break;const i=Na(s.trim());e[i]=n.trim()}return e}const ba=a=>a;function le(a,e,r,t){var s=(a&Xe)!==0,n=(a&je)!==0,i=s&&n,_=(a&ea)!==0,u=i?"both":s?"in":"out",m,h=e.inert,f=e.style.overflow,v,l;function o(){var y=pe,T=K;te(null),se(null);try{return m??(m=r()(e,(t==null?void 0:t())??{},{direction:u}))}finally{te(y),se(T)}}var p={is_global:_,in(){var y;if(e.inert=h,!s){l==null||l.abort(),(y=l==null?void 0:l.reset)==null||y.call(l);return}n||v==null||v.abort(),q(e,"introstart"),v=X(e,o(),l,1,()=>{q(e,"introend"),v==null||v.abort(),v=m=void 0,e.style.overflow=f})},out(y){if(!n){y==null||y(),m=void 0;return}e.inert=!0,q(e,"outrostart"),l=X(e,o(),v,0,()=>{q(e,"outroend"),y==null||y()})},stop:()=>{v==null||v.abort(),l==null||l.abort()}},c=K;if((c.transitions??(c.transitions=[])).push(p),s&&va){var E=_;if(!E){for(var d=c.parent;d&&d.f&Ve;)for(;(d=d.parent)&&!(d.f&ze););E=!d||(d.f&Ye)!==0}E&&We(()=>{me(()=>p.in())})}}function X(a,e,r,t,s){var n=t===1;if(Ze(e)){var i,_=!1;return Qe(()=>{if(!_){var c=e({direction:n?"in":"out"});i=X(a,c,r,t,s)}}),{abort:()=>{_=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return s(),{abort:B,deactivate:B,reset:B,t:()=>t};const{delay:u=0,css:m,tick:h,easing:f=ba}=e;var v=[];if(n&&r===void 0&&(h&&h(0,1),m)){var l=oe(m(0,1));v.push(l,l)}var o=()=>1-t,p=a.animate(v,{duration:u});return p.onfinish=()=>{var c=(r==null?void 0:r.t())??1-t;r==null||r.abort();var E=t-c,d=e.duration*Math.abs(E),y=[];if(d>0){var T=!1;if(m)for(var g=Math.ceil(d/16.666666666666668),k=0;k<=g;k+=1){var N=c+E*f(k/g),S=oe(m(N,1-N));y.push(S),T||(T=S.overflow==="hidden")}T&&(a.style.overflow="hidden"),o=()=>{var C=p.currentTime;return c+E*f(C/d)},h&&Ia(()=>{if(p.playState!=="running")return!1;var C=o();return h(C,1-C),!0})}p=a.animate(y,{duration:d,fill:"forwards"}),p.onfinish=()=>{o=()=>t,h==null||h(t,1-t),s()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=B)},deactivate:()=>{s=B},reset:()=>{t===0&&(h==null||h(1,0))},t:()=>o()}}function xa(a,e,r=e){var t=aa();da(a,"input",s=>{var n=s?a.defaultValue:a.value;if(n=z(a)?Y(n):n,r(n),t&&n!==(n=e())){var i=a.selectionStart,_=a.selectionEnd;a.value=n??"",_!==null&&(a.selectionStart=i,a.selectionEnd=Math.min(_,a.value.length))}}),(A&&a.defaultValue!==a.value||me(e)==null&&a.value)&&r(z(a)?Y(a.value):a.value),ra(()=>{var s=e();z(a)&&s===Y(a.value)||a.type==="date"&&!s&&!a.value||s!==a.value&&(a.value=s??"")})}function z(a){var e=a.type;return e==="number"||e==="range"}function Y(a){return a===""?null:+a}var wa=D('<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined">'),$a=D('<span class="material-icons-outlined icon svelte-y47uu9"> </span>');function R(a,e){let r=L(e,"nome",8),t=L(e,"handler",8,()=>{}),s=L(e,"color",8,"green");var n=$a();ca(_=>{var u=wa();$(_,u)});var i=b(n,!0);x(n),H(()=>{U(n,"style",`--color:${s()??""};`),Q(i,r())}),Z("click",n,function(..._){var u;(u=t())==null||u.apply(this,_)}),$(a,n)}var Sa=D("<span> </span>");function Oa(a,e){let r=L(e,"prio",12,3),t=L(e,"disabled",8,!1);const s=u=>({1:"ALTA",2:"MEDIA",3:"BASSA"})[u],n=()=>{t()||r((r()+1)%3+1)};var i=Sa(),_=b(i,!0);x(i),H((u,m)=>{j(i,`${u??""} svelte-10521h5`),Q(_,m)},[()=>t()?"DISABILITATO":s(r()),()=>s(r())],he),Z("click",i,n),$(a,i)}const Ca=a=>a;function fe(a,{delay:e=0,duration:r=400,easing:t=Ca}={}){const s=+getComputedStyle(a).opacity;return{delay:e,duration:r,easing:t,css:n=>`opacity: ${n*s}`}}var Ma=D("<div><!></div>");function F(a,e){let r=L(e,"last",8,!1);var t=Ma(),s=b(t);ga(s,e,"default",{}),x(t),H(()=>j(t,`cell ${(r()?"cell-last":"")??""} svelte-ir89wu`)),le(1,t,()=>fe,()=>({duration:700})),le(2,t,()=>fe,()=>({duration:350})),$(a,t)}var Ra=D('<input type="text" placeholder="Inserisci il nuovo ToDo">'),Da=D("<!> <!> <!> <!> <!>",1);function La(a,e){ye(e,!1);let r=L(e,"todo",12),t=ge(r().priority);const s=oa(),n=()=>{r(r().done=!r().done,!0),i("update")},i=o=>{s("change",{type:o,id:r().id})},_=()=>{document.getElementById(r().id).blur(),i("update")};ta(()=>(ia(r()),I(t)),()=>{r().priority!=I(t)&&(G(t,r().priority),i("update"))}),sa(),ve();var u=Da(),m=W(u);F(m,{children:(o,p)=>{na();var c=Ne();H(()=>Q(c,r().id)),$(o,c)},$$slots:{default:!0}});var h=w(m,2);F(h,{children:(o,p)=>{var c=be(),E=W(c);{var d=T=>{R(T,{handler:n,nome:"circle",color:"red"})},y=T=>{R(T,{handler:n,nome:"task_alt"})};ua(E,T=>{r().done?T(y,!1):T(d)})}$(o,c)},$$slots:{default:!0}});var f=w(h,2);F(f,{children:(o,p)=>{var c=Ra();Ea(c),H(()=>{j(c,`todo-item-input-text ${(r().done?"text-done":"")??""} svelte-ev9nhu`),U(c,"id",r().id)}),xa(c,()=>r().task,E=>r(r().task=E,!0)),Z("change",c,_),$(o,c)},$$slots:{default:!0}});var v=w(f,2);F(v,{children:(o,p)=>{Oa(o,{get disabled(){return r().done},get prio(){return r().priority},set prio(c){r(r().priority=c,!0)},$$legacy:!0})},$$slots:{default:!0}});var l=w(v,2);F(l,{last:!0,children:(o,p)=>{R(o,{nome:"delete_forever",handler:()=>i("delete"),color:"red"})},$$slots:{default:!0}}),$(a,u),Ee()}var Pa=D('<h1>Todos</h1> <div class="todo-list svelte-17prlxn"><div class="header svelte-17prlxn"><!></div> <div class="header svelte-17prlxn"><!></div> <div class="header svelte-17prlxn"><!></div> <div class="header svelte-17prlxn"><!></div> <div class="header header-last svelte-17prlxn"><!></div> <!></div>',1);function Ba(a,e){ye(e,!1);let r=ge([]),t=0;const s=async()=>{let g={id:++t,task:"",done:!1,priority:3};console.log("CREATE: ",g),localStorage.setItem(`todo${g.id}`,JSON.stringify(g)),G(r,[...I(r),g])},n=async g=>{switch(g.detail.type){case"update":i(g.detail.id);break;case"delete":_(g.detail.id);break}},i=g=>{console.log("UPDATE:",g);const k=I(r).filter(N=>N.id==g)[0];localStorage.setItem(`todo${k.id}`,JSON.stringify(k))},_=g=>{console.log("DELETE : ",g),G(r,I(r).filter(k=>k.id!=g)),localStorage.removeItem(`todo${g}`)};la(async()=>{for(let g=0;g<localStorage.length;g++){const k=localStorage.key(g),N=+k.substring(4);N>=t&&(t=N);const S=JSON.parse(localStorage.getItem(k));S!=null&&I(r).push(S)}G(r,[...I(r)])}),ve();var u=Pa(),m=w(W(u),2),h=b(m),f=b(h);R(f,{nome:"tag"}),x(h);var v=w(h,2),l=b(v);R(l,{nome:"task_alt"}),x(v);var o=w(v,2),p=b(o);R(p,{nome:"list"}),x(o);var c=w(o,2),E=b(c);R(E,{nome:"schedule"}),x(c);var d=w(c,2),y=b(d);R(y,{nome:"add_box",handler:s}),x(d);var T=w(d,2);pa(T,1,()=>I(r),_a,(g,k)=>{La(g,{get todo(){return I(k)},$$events:{change:n}})}),x(m),$(a,u),Ee()}var Fa=D('<main class="svelte-f0h198"><!></main>');function Va(a){var e=Fa(),r=b(e);Ba(r,{}),x(e),$(a,e)}export{Va as component};
